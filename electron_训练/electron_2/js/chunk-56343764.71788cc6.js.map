{"version":3,"sources":["webpack:///./src/views/editaddress.vue?583a","webpack:///./src/views/editaddress.vue?665f","webpack:///src/views/editaddress.vue","webpack:///./src/views/editaddress.vue?fd09","webpack:///./src/views/editaddress.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_editaddress_vue_vue_type_style_index_0_id_74822581_scoped_true_lang_stylus___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_editaddress_vue_vue_type_style_index_0_id_74822581_scoped_true_lang_stylus___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","directives","name","rawName","value","bit","expression","attrs","type","placeholder","domProps","on","input","$event","target","composing","$set","pattern","click","showAddressPicker","_s","province","city","area","submitAddress","staticRenderFns","addressData","js_area","forEach","children","editaddressvue_type_script_lang_js_","data","str","contact","phone","address","username","sessionStorage","getItem","id","$route","query","addressId","isDefault","created","detail","mounted","addressPicker","$createCascadePicker","title","onSelect","selectHandle","onCancel","console","log","methods","show","_this","$post","$bee","then","code","$createToast","txt","message","_this2","_do","Object","keys","i","time","showLoading","parsed","onTimeout","$router","go","selectedVal","selectedIndex","selectedText","views_editaddressvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"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","file":"js/chunk-56343764.71788cc6.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editaddress.vue?vue&type=style&index=0&id=74822581&scoped=true&lang=stylus&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editaddress.vue?vue&type=style&index=0&id=74822581&scoped=true&lang=stylus&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"g-editaddress\"},[_c('div',{staticClass:\"top\"},[_c('div',{staticClass:\"m-name\"},[_c('span',[_vm._v(\"收货人\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.bit.contact),expression:\"bit.contact\"}],attrs:{\"type\":\"text\",\"placeholder\":\"收货人的真实姓名\"},domProps:{\"value\":(_vm.bit.contact)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.bit, \"contact\", $event.target.value)}}})]),_c('div',{staticClass:\"m-phone\"},[_c('span',[_vm._v(\"手机号\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.bit.phone),expression:\"bit.phone\"}],attrs:{\"type\":\"number\",\"placeholder\":\"收货人的手机号码\",\"pattern\":\"[0-9]*\"},domProps:{\"value\":(_vm.bit.phone)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.bit, \"phone\", $event.target.value)}}})])]),_c('div',{staticClass:\"bottom\"},[_c('div',{staticClass:\"m-area\",on:{\"click\":_vm.showAddressPicker}},[_c('span',[_vm._v(\"所在区域\")]),(_vm.bit.area)?_c('div',[_vm._v(_vm._s(_vm.bit.province)+\" \"+_vm._s(_vm.bit.city)+\" \"+_vm._s(_vm.bit.area))]):_c('div',[_vm._v(\"所在区域\")])]),_c('div',{staticClass:\"m-details\"},[_c('span',[_vm._v(\"详细地址\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.bit.address),expression:\"bit.address\"}],attrs:{\"type\":\"text\",\"placeholder\":\"请输入详细收货地址\"},domProps:{\"value\":(_vm.bit.address)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.bit, \"address\", $event.target.value)}}})])]),_c('div',{staticClass:\"btn-submit\",on:{\"click\":_vm.submitAddress}},[_vm._v(\"提交\")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"g-editaddress\">\r\n    <div class=\"top\">\r\n      <div class=\"m-name\">\r\n        <span>收货人</span>\r\n        <input type=\"text\" placeholder=\"收货人的真实姓名\" v-model=\"bit.contact\">\r\n      </div>\r\n      <div class=\"m-phone\">\r\n        <span>手机号</span>\r\n        <input type=\"number\" placeholder=\"收货人的手机号码\" pattern=\"[0-9]*\" v-model=\"bit.phone\">\r\n      </div>\r\n    </div>\r\n    <div class=\"bottom\">\r\n      <div class=\"m-area\" @click=\"showAddressPicker\">\r\n        <span>所在区域</span>\r\n        <div v-if=\"bit.area\">{{bit.province}} {{bit.city}} {{bit.area}}</div>\r\n        <div v-else>所在区域</div>\r\n      </div>\r\n      <div class=\"m-details\">\r\n        <span>详细地址</span>\r\n        <input type=\"text\" placeholder=\"请输入详细收货地址\" v-model=\"bit.address\">\r\n      </div>\r\n    </div>\r\n    <div class=\"btn-submit\" @click=\"submitAddress\">提交</div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import { provinceList, cityList, areaList } from '../assets/js/area'\r\n  const addressData = provinceList\r\n  addressData.forEach(province => {\r\n    province.children = cityList[province.value]\r\n    province.children.forEach(city => {\r\n      city.children = areaList[city.value]\r\n    })\r\n  })\r\n  export default {\r\n    name: \"editaddress\",\r\n    data(){\r\n      return {\r\n        area:{\r\n          str:'',\r\n          province:'',\r\n          city:'',\r\n          area:''\r\n        },\r\n        bit:{\r\n          province:'',\r\n          city:'',\r\n          area:'',\r\n          contact:'',\r\n          phone:'',\r\n          address:'',\r\n          username:sessionStorage.getItem('userid'),\r\n          id:this.$route.query.addressId,\r\n          isDefault:1\r\n        }\r\n      }\r\n    },\r\n    created(){\r\n      this.detail();//地址详情\r\n    },\r\n    mounted () {\r\n      this.addressPicker = this.$createCascadePicker({\r\n        title: '地址选择',\r\n        data: addressData,\r\n        onSelect: this.selectHandle,\r\n        onCancel(){\r\n          console.log('取消')\r\n        }\r\n      })\r\n    },\r\n    methods: {\r\n      showAddressPicker() {\r\n        this.addressPicker.show()\r\n      },\r\n      detail(){\r\n        if(!this.$route.query.addressId){\r\n          return;\r\n        }\r\n        this.$post(this.$bee+'/api/user/addressDetail',{id:this.$route.query.addressId}).then((data)=>{\r\n          if(data.code==200){\r\n            this.bit=data.data.address;\r\n            this.bit={\r\n              province:data.data.address.province,\r\n              city:data.data.address.city,\r\n              area:data.data.address.area,\r\n              contact:data.data.address.contact,\r\n              phone:data.data.address.phone,\r\n              address:data.data.address.address,\r\n              username:sessionStorage.getItem('userid'),\r\n              id:data.data.address.id,\r\n              isDefault:1\r\n            }\r\n          }else{\r\n            this.$createToast({\r\n              txt: data.message,\r\n              type: 'txt'\r\n            }).show();\r\n          }\r\n        })\r\n      },\r\n      submitAddress(){\r\n        let _do=true;\r\n        Object.keys(this.bit).forEach((i)=>{\r\n          if(this.bit[i]===''&&i!='id'){\r\n            this.$createToast({\r\n              txt: '请将信息填写完整！',\r\n              time: 1000,\r\n              type: 'warn'\r\n            }).show()\r\n            _do=false;\r\n          }\r\n        })\r\n        if(!_do){\r\n          return ;\r\n        }\r\n        this.$post(this.$bee+'/api/user/saveOrUpdateAddress',this.bit,{showLoading:true,parsed:false}).then((data)=>{\r\n          if(data.code==200){\r\n            this.$createToast({\r\n              txt: data.message,\r\n              time: 2000,\r\n              type: 'correct',\r\n              onTimeout: () => {\r\n                this.$router.go(-1)\r\n              }\r\n            }).show()\r\n          }else{\r\n            this.$createToast({\r\n              txt: data.message,\r\n              type: 'txt'\r\n            }).show();\r\n          }\r\n        })\r\n      },\r\n      selectHandle(selectedVal, selectedIndex, selectedText) {\r\n        this.bit.province=selectedText[0];\r\n        this.bit.city=selectedText[1];\r\n        this.bit.area=selectedText[2];\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped lang=\"stylus\">\r\n  .top\r\n    padding 0 0 0 12px\r\n    border-bottom 5px solid #ebebeb;\r\n  .bottom\r\n    padding 0 0 0 12px\r\n  .m-name,.m-area\r\n    border-bottom 1px solid #dcdcdc\r\n  .m-name,.m-phone,.m-area,.m-details\r\n    text-align left\r\n    height 34px\r\n    background url(../assets/images/right-arrow.png) no-repeat center right\r\n    background-size 7.5px 14px\r\n    background-position calc(100% - 20px) center\r\n    span\r\n      display inline-block\r\n      width 55px\r\n      color: #5e5e5e;\r\n      font-size 13px\r\n      vertical-align middle\r\n    input,div\r\n      display inline-block\r\n      width 250px\r\n      height 15px\r\n      font-size 13px\r\n      line-height 15px\r\n      margin-left 10px\r\n      background #fff\r\n      vertical-align middle\r\n  .btn-submit\r\n    width 350px\r\n    height 40px\r\n    line-height 40px\r\n    background #db3838\r\n    position fixed\r\n    bottom 10px\r\n    left calc(50% - 175px)\r\n    border-radius 5px\r\n    color #fff\r\n    font-size 22.5px\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??ref--16-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editaddress.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??ref--16-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editaddress.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./editaddress.vue?vue&type=template&id=74822581&scoped=true&\"\nimport script from \"./editaddress.vue?vue&type=script&lang=js&\"\nexport * from \"./editaddress.vue?vue&type=script&lang=js&\"\nimport style0 from \"./editaddress.vue?vue&type=style&index=0&id=74822581&scoped=true&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"74822581\",\n  null\n  \n)\n\ncomponent.options.__file = \"editaddress.vue\"\nexport default component.exports"],"sourceRoot":""}