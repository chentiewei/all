(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-266e1249"],{"2fa3":function(t,a,e){"use strict";var i=e("eea8"),o=e.n(i);o.a},"58c1":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"g-merchant scroll-list-wrap"},[e("cube-scroll",{ref:"scroll",attrs:{data:t.list,options:t.options},on:{"pulling-down":t.onPullingDown,"pulling-up":t.onPullingUp}},[e("div",{staticClass:"m-navChoose"},[e("div",{on:{click:t.showProv}},[t._v(t._s(t.area.prov.str||"请选择省份"))]),e("div",{on:{click:t.showCity}},[t._v(t._s(t.area.city.str||"请选择城市"))]),e("div",{on:{click:t.showArea}},[t._v(t._s(t.area.area.str||"请选择区域"))]),e("div",{on:{click:t.showcategory}},[t._v(t._s(t.area.sortId.str||"请选择类目"))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.bit.keyword,expression:"bit.keyword"}],attrs:{type:"text",placeholder:"请输入店铺名"},domProps:{value:t.bit.keyword},on:{input:function(a){a.target.composing||t.$set(t.bit,"keyword",a.target.value)}}}),e("div",{staticClass:"s-search",on:{click:function(a){t.merchant(t.bit,1)}}},[t._v("搜索")])]),e("div",{staticClass:"m-list"},t._l(t.list,function(a,i){return e("router-link",{key:i,staticClass:"s-box",attrs:{to:{name:"merchantDetails",query:{username:a.username}},tag:"div"}},[e("div",{staticClass:"img"},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:"https://fx18.oss-cn-hangzhou.aliyuncs.com/"+a.icon,expression:"'https://fx18.oss-cn-hangzhou.aliyuncs.com/'+v.icon"}],attrs:{alt:""}})]),e("div",{staticClass:"name"},[t._v(t._s(a.name))])])}))])],1)},o=[],s=(e("ac6a"),e("cadf"),e("551c"),e("097d"),e("33eb")),r=s["c"];r.forEach(function(t){t.children=s["b"][t.value],t.children.forEach(function(t){t.children=s["a"][t.value]})});var n={name:"merchant",data:function(){return{area:{prov:{str:"",i:""},city:{str:"",i:""},area:{str:"",i:""},sortId:{str:"",i:""}},sorts:[],list:[],options:{scrollbar:{fade:!0},pullUpLoad:{txt:{noMore:"没有更多数据了"}},pullDownRefresh:{stopTime:0,txt:" "}},bit:{keyword:"",page:1,province:"",city:"",area:"",sortId:""}}},created:function(){this.merchant(this.bit),this.sorting()},methods:{sorting:function(){var t=this;this.$post(this.$bee+"/api/shop/listSort").then(function(a){200==a.code?a.data.sorts.forEach(function(a){t.sorts.push({text:a.name,value:a.id})}):t.$createToast({txt:a.message,type:"txt"}).show()})},merchant:function(t,a){var e=this;a&&(this.list=[],t.page=1),this.$post(this.$bee+"/api/shop/listLeagueShop",t).then(function(t){200==t.code&&0!=t.data.shops.length?(t.data.shops.forEach(function(t){e.list.push(t)}),e.bit.page++):e.$refs.scroll.forceUpdate()})},onPullingDown:function(){this.bit.page=1,this.list=[],this.merchant(this.bit)},onPullingUp:function(){this.merchant(this.bit)},showProv:function(){var t=this;this.$createPicker({title:"请选择省份",data:[r],onSelect:function(a,e,i){t.area.prov.str=i.join(", "),t.area.prov.i=e,t.area.city.str="",t.area.city.i="",t.area.area.str="",t.area.area.i="",t.bit.province=i.join(", ")},onCancel:function(){console.log("取消")}}).show()},showCity:function(){var t=this;r[t.area.prov.i]?this.$createPicker({title:"请选择城市",data:[r[t.area.prov.i].children],onSelect:function(a,e,i){t.area.city.str=i.join(", "),t.area.city.i=e,t.area.area.str="",t.area.area.i="",t.bit.city=i.join(", ")},onCancel:function(){console.log("取消")}}).show():this.$createToast({txt:"请先选择省份",type:"txt"}).show()},showArea:function(){var t=this;r[t.area.prov.i]?r[t.area.prov.i].children[t.area.city.i]?this.$createPicker({title:"请选择区域",data:[r[t.area.prov.i].children[t.area.city.i].children],onSelect:function(a,e,i){t.area.area.str=i.join(", "),t.area.area.i=e,t.bit.area=i.join(", ")},onCancel:function(){console.log("取消")}}).show():this.$createToast({txt:"请先选择城市",type:"txt"}).show():this.$createToast({txt:"请先选择省份",type:"txt"}).show()},showcategory:function(){var t=this;this.$createPicker({title:"请选择区域",data:[t.sorts],onSelect:function(a,e,i){t.area.sortId.str=i.join(", "),t.area.sortId.i=e,t.bit.sortId=a[0]},onCancel:function(){console.log("取消")}}).show()}}},c=n,l=(e("2fa3"),e("2877")),h=Object(l["a"])(c,i,o,!1,null,"105db7a8",null);h.options.__file="merchant.vue";a["default"]=h.exports},eea8:function(t,a,e){}}]);
//# sourceMappingURL=chunk-266e1249.1d7d7d29.js.map