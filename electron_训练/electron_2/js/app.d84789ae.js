(function(e){function n(n){for(var r,u,i=n[0],l=n[1],c=n[2],f=0,m=[];f<i.length;f++)u=i[f],o[u]&&m.push(o[u][0]),o[u]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);s&&s(n);while(m.length)m.shift()();return a.push.apply(a,c||[]),t()}function t(){for(var e,n=0;n<a.length;n++){for(var t=a[n],r=!0,i=1;i<t.length;i++){var l=t[i];0!==o[l]&&(r=!1)}r&&(a.splice(n--,1),e=u(u.s=t[0]))}return e}var r={},o={app:0},a=[];function u(n){if(r[n])return r[n].exports;var t=r[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,u),t.l=!0,t.exports}u.m=e,u.c=r,u.d=function(e,n,t){u.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,n){if(1&n&&(e=u(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(u.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)u.d(t,r,function(n){return e[n]}.bind(null,r));return t},u.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(n,"a",n),n},u.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},u.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=n,i=i.slice();for(var c=0;c<i.length;c++)n(i[c]);var s=l;a.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("56d7")},"034f":function(e,n,t){"use strict";var r=t("64a9"),o=t.n(r);o.a},"03ef":function(e,n,t){"use strict";var r=t("7b5a"),o=t.n(r);o.a},"09a7":function(e,n,t){"use strict";var r=t("a9c1"),o=t.n(r);o.a},"2cbc":function(e,n,t){"use strict";var r=t("c865"),o=t.n(r);o.a},"37dc":function(e,n,t){},"3ce2":function(e,n,t){},"53a9":function(e,n,t){},"56d7":function(e,n,t){"use strict";t.r(n);var r=t("cebc"),o=(t("7f7f"),t("ac6a"),t("cadf"),t("551c"),t("097d"),t("2b0e")),a=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},u=[],i={name:"app"},l=i,c=(t("034f"),t("2877")),s=Object(c["a"])(l,a,u,!1,null,null,null);s.options.__file="App.vue";var f=s.exports,m=t("8c4f"),p=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[t("div",{staticClass:"header"},e._l(e.newrouter,function(n,r){return t("div",{key:r},[n.children?n.children?t("div",[e._v(e._s(n.name))]):e._e():t("router-link",{attrs:{to:{name:n.name}}},[e._v(e._s(n.name))]),e._l(n.children,function(n,r){return t("div",[t("router-link",{attrs:{to:{name:n.name}}},[e._v(e._s(n.name))])],1)})],2)}),0),t("div",{staticClass:"main"},[t("router-view")],1),t("el-col",{staticClass:"out",attrs:{span:1}},[t("div",{staticClass:"logout_box",on:{click:function(n){e.logout()}}},[e._v("退出")])])],1)},d=[],v=t("2f62"),h={name:"home",data:function(){return{newrouter:this.$store.state.newrouter}},created:function(){},computed:{},methods:{logout:function(){var e=this;this.$store.dispatch("Logout").then(function(){e.$router.push({path:"/login"})}).catch(function(n){e.$message.error(n)})}},mounted:function(){}},_=h,b=(t("bd5d"),Object(c["a"])(_,p,d,!1,null,"0deb67ec",null));b.options.__file="home.vue";var g=b.exports,E=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"login_box"},[t("el-form",{attrs:{"label-position":"right","label-width":"60px",model:e.loginfrom}},[t("el-form-item",{attrs:{label:"用户名"}},[t("el-input",{model:{value:e.loginfrom.username,callback:function(n){e.$set(e.loginfrom,"username",n)},expression:"loginfrom.username"}})],1),t("el-form-item",{attrs:{label:"密码"}},[t("el-input",{attrs:{type:"password"},model:{value:e.loginfrom.password,callback:function(n){e.$set(e.loginfrom,"password",n)},expression:"loginfrom.password"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(n){e.submituUserInfo(e.loginfrom)}}},[e._v("登录")])],1)],1),e._m(0)],1)},w=[function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"msg"},[t("span",[e._v("账号:admin")]),t("span",[e._v("账号:a")]),t("span",[e._v("账号:b")]),t("span",[e._v("账号:c")])])}],O={name:"login",data:function(){return{loginfrom:{username:"",password:"123456"}}},methods:{submituUserInfo:function(e){var n=this;this.$store.dispatch("Logins",e).then(function(e){n.$router.push({path:"/"})}).catch(function(){})}}},S=O,y=(t("9364"),Object(c["a"])(S,E,w,!1,null,"5fb96250",null));y.options.__file="login.vue";var j=y.exports,x=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[e._v("\n  red\n")])},R=[],$={name:"red"},T=$,U=(t("2cbc"),Object(c["a"])(T,x,R,!1,null,"07e56c46",null));U.options.__file="red.vue";var k=U.exports,L=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[e._v("\n  yellow\n")])},M=[],N={name:"yellow"},I=N,A=(t("6e1c"),Object(c["a"])(I,L,M,!1,null,"9739cecc",null));A.options.__file="yellow.vue";var C=A.exports,P=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[e._v("\n  blue\n")])},J=[],W={name:"blue"},q=W,z=(t("09a7"),Object(c["a"])(q,P,J,!1,null,"656fa104",null));z.options.__file="blue.vue";var B=z.exports,D=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[t("router-view")],1)},F=[],G={name:"all"},H=G,K=(t("d152"),Object(c["a"])(H,D,F,!1,null,"558c219e",null));K.options.__file="all.vue";var Q=K.exports,V=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[e._v("\n  all1\n")])},X=[],Y={name:"all1"},Z=Y,ee=(t("a7a9"),Object(c["a"])(Z,V,X,!1,null,"29e52e9f",null));ee.options.__file="all1.vue";var ne=ee.exports,te=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[e._v("\n  all2\n")])},re=[],oe={name:"all2"},ae=oe,ue=(t("03ef"),Object(c["a"])(ae,te,re,!1,null,"0d3ef088",null));ue.options.__file="all2.vue";var ie=ue.exports;o["default"].use(m["a"]);var le=new m["a"]({routes:[{path:"/login",name:"login",component:j}]}),ce=[{path:"/",name:"home",component:g},{path:"/red",name:"red",component:k},{path:"/yellow",name:"yellow",component:C},{path:"/blue",name:"blue",component:B},{path:"/all",name:"all",component:Q,children:[{path:"/all1",name:"all1",component:ne},{path:"/all2",name:"all2",component:ie}]}],se=t("f499"),fe=t.n(se),me=t("795b"),pe=t.n(me),de=[{id:1,username:"admin",pew:123456,role:[{name:"home"},{name:"red"},{name:"yellow"},{name:"blue"},{name:"all"}],introduce:"我可以看见全部页面"},{id:2,username:"a",pew:123456,role:[{name:"home"},{name:"blue"},{name:"all"}],introduce:"我可以看到red和yellow页面"},{id:3,username:"b",pew:123456,role:[{name:"home"},{name:"red"}],introduce:"我可以看见red和blue页面"},{id:3,username:"c",pew:123456,role:[{name:"home"},{name:"red"},{name:"all"}],introduce:"我可以看见red和blue页面"}];o["default"].use(v["a"]);var ve=new v["a"].Store({state:{username:sessionStorage.getItem("USERNAME"),role:JSON.parse(sessionStorage.getItem("ROLE")),newrouter:[]},getters:{username:function(e){return e.username},role:function(e){return e.role},newrouter:function(e){return e.newrouter}},mutations:{SET_USERNAME:function(e,n){e.username=n},SET_ROLE:function(e,n){e.role=n},SET_NEWROUER:function(e,n){e.newrouter=n}},actions:{Logins:function(e,n){var t=e.commit;return new pe.a(function(e,r){var o={};de.map(function(e){return n.username===e.username||n.pew===e.pew?(t("SET_USERNAME",e.username),sessionStorage.setItem("USERNAME",e.username),t("SET_ROLE",e.role),sessionStorage.setItem("ROLE",fe()(e.role)),o={username:e.username,introduce:e.introduce}):o}),e(o)}).catch(function(e){reject(e)})},Roles:function(e,n){var t=e.commit;return new pe.a(function(e,r){t("SET_NEWROUER",n),e(n)}).catch(function(e){reject(e)})},Logout:function(e){var n=e.commit;e.state;return new pe.a(function(e,t){n("SET_USERNAME",""),n("SET_ROLE",""),n("SET_NEWROUER",[]),sessionStorage.removeItem("USERNAME"),sessionStorage.removeItem("ROLE"),e()}).catch(function(e){reject(e)})}}}),he=t("5c96"),_e=t.n(he);t("c69f");o["default"].use(_e.a),o["default"].config.productionTip=!1,le.beforeEach(function(e,n,t){var o=ve.getters.role;if(o)if(0!==ve.getters.newrouter.length)t();else{var a=[];o.forEach(function(e){ce.forEach(function(n){n.name==e.name&&a.push(n)})}),le.addRoutes(a),ve.dispatch("Roles",a).then(function(n){t(Object(r["a"])({},e))}).catch(function(){})}else-1!==["/login"].indexOf(e.path)?t():t("/login")}),new o["default"]({router:le,store:ve,render:function(e){return e(f)}}).$mount("#app")},"64a9":function(e,n,t){},"6e1c":function(e,n,t){"use strict";var r=t("3ce2"),o=t.n(r);o.a},"75be":function(e,n,t){},"7b5a":function(e,n,t){},9364:function(e,n,t){"use strict";var r=t("75be"),o=t.n(r);o.a},a7a9:function(e,n,t){"use strict";var r=t("37dc"),o=t.n(r);o.a},a9c1:function(e,n,t){},bd5d:function(e,n,t){"use strict";var r=t("fb8f"),o=t.n(r);o.a},c69f:function(e,n,t){},c865:function(e,n,t){},d152:function(e,n,t){"use strict";var r=t("53a9"),o=t.n(r);o.a},fb8f:function(e,n,t){}});
//# sourceMappingURL=app.d84789ae.js.map