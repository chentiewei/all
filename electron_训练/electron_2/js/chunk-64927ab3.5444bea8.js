(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-64927ab3"],{"344f":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIoAAACLCAYAAAC+2wHBAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkM1RjA4NkRBRjgzRjExRThBRjZEQTkxNjNDRTUyNzRBIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkM1RjA4NkRCRjgzRjExRThBRjZEQTkxNjNDRTUyNzRBIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QzVGMDg2RDhGODNGMTFFOEFGNkRBOTE2M0NFNTI3NEEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QzVGMDg2RDlGODNGMTFFOEFGNkRBOTE2M0NFNTI3NEEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz739Lu+AAABoUlEQVR42uzcsW3CQBSAYYPMAhaD0NGkhApmYRjWSEtHyhRHl0GiW4DCnCWbUFiCAuIDvk964A7r6YerzCiEUBdwRdm+b9N8Wwc9PtJsulAOaT7thB6T5mVsD9xCKAgFoSAUhIJQEAoIBaEgFISCUBAKQgGhIBSEglAQCkJBKFD8PdfzcFVV2fYdxRj9ogxkl6ZuZ2cdQkEoCAWhIBSEglBAKAgFoSAUhIJQEAoIBaEgFISCUBAKQgGhIBSEglAQCkJBKCAUhIJQEApCQSgIBYSCUBAKwyv/+fP2Ge9idnE9z/xel68eyuJJvkDTJ7pXRw/ve/R8ZX70TNvr3zQ/8hgulGXGu2j+1nzVXh/SrOXh6EEoCAWhIBSEglBAKAgFoSAUhIJQEAoIBaEgFISCUBAKQgGhIBSEglAQCkJBKCAUhIJQEApCQSgIBYSCUBAKwyqt4MzfheYQSozRth09CAWEglAQCkJBKAgFoYBQEApCQSgIBaEgFBAKQkEoCAWhIBSEAkJBKAgFoZCv7tnjeZqjddCjaaMYhRBqu+CakwADANH0HgiV6H27AAAAAElFTkSuQmCC"},"41f8":function(t,e,s){},da93:function(t,e,s){"use strict";var a=s("41f8"),i=s.n(a);i.a},e3ac:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"g-apply"},[a("div",{staticClass:"m-name"},[a("span",{staticClass:"s-msg"},[t._v("商家名称：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.bit.name,expression:"bit.name"}],attrs:{type:"text",placeholder:"请输入商家公司或店铺名称"},domProps:{value:t.bit.name},on:{input:function(e){e.target.composing||t.$set(t.bit,"name",e.target.value)}}})]),a("div",{staticClass:"m-img"},[a("span",{staticClass:"s-msg"},[t._v("商家图片：")]),a("cube-upload",{ref:"upload",attrs:{action:t.action},on:{"files-added":t.addedHandler,"file-error":t.errHandler,"file-success":t.sussHandler},model:{value:t.files,callback:function(e){t.files=e},expression:"files"}},[a("div",{staticClass:"clear-fix"},[t._l(t.files,function(t,e){return a("cube-upload-file",{key:e,attrs:{file:t}})}),a("cube-upload-btn",{attrs:{multiple:!1}},[t.bit.icon?a("img",{attrs:{src:"https://fx18.oss-cn-hangzhou.aliyuncs.com/"+t.bit.icon,alt:""}}):a("img",{attrs:{src:s("344f"),alt:""}})])],2)])],1),a("div",{staticClass:"m-area"},[a("span",{staticClass:"s-msg"},[t._v("商家区域：")]),a("div",{staticClass:"s-navChoose"},[a("div",{staticClass:"beyond",on:{click:t.showAddressPicker}},[t._v(t._s(t.bit.province||"请选择省份"))]),a("div",{staticClass:"beyond",on:{click:t.showAddressPicker}},[t._v(t._s(t.bit.city||"请选择城市"))]),a("div",{staticClass:"beyond",on:{click:t.showAddressPicker}},[t._v(t._s(t.bit.area||"请选择区域"))])])]),a("div",{staticClass:"m-area"},[a("span",{staticClass:"s-msg"},[t._v("商家地址：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.bit.address,expression:"bit.address"}],attrs:{type:"text",placeholder:"请输入商家详细地址"},domProps:{value:t.bit.address},on:{input:function(e){e.target.composing||t.$set(t.bit,"address",e.target.value)}}})]),a("div",{staticClass:"m-class"},[a("span",{staticClass:"s-msg"},[t._v("经营类目：")]),a("div",{on:{click:t.showcategory}},[t._v(t._s(t.bit.sort||"请选择经营类目"))])]),a("div",{staticClass:"m-people"},[a("span",{staticClass:"s-msg"},[t._v("产品名称：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.bit.proName,expression:"bit.proName"}],attrs:{type:"text",placeholder:"请输入产品名称"},domProps:{value:t.bit.proName},on:{input:function(e){e.target.composing||t.$set(t.bit,"proName",e.target.value)}}})]),a("div",{staticClass:"m-people"},[a("span",{staticClass:"s-msg"},[t._v("联系人：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.bit.contact,expression:"bit.contact"}],attrs:{type:"text",placeholder:"请输入联系人"},domProps:{value:t.bit.contact},on:{input:function(e){e.target.composing||t.$set(t.bit,"contact",e.target.value)}}})]),a("div",{staticClass:"m-phone"},[a("span",{staticClass:"s-msg"},[t._v("联系电话：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.bit.phone,expression:"bit.phone"}],attrs:{type:"text",placeholder:"请输入联系电话"},domProps:{value:t.bit.phone},on:{input:function(e){e.target.composing||t.$set(t.bit,"phone",e.target.value)}}})]),a("div",{staticClass:"m-ps"},[a("span",{staticClass:"s-msg"},[t._v("商家介绍：")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.bit.intro,expression:"bit.intro"}],attrs:{cols:"30",rows:"10",placeholder:"请输入商家介绍"},domProps:{value:t.bit.intro},on:{input:function(e){e.target.composing||t.$set(t.bit,"intro",e.target.value)}}})]),a("div",{staticClass:"m-submit",on:{click:t.submitMsg}},[t._v("提交申请")])])},i=[],o=(s("456d"),s("ac6a"),s("33eb")),n=o["c"];n.forEach(function(t){t.children=o["b"][t.value],t.children.forEach(function(t){t.children=o["a"][t.value]})});var c={name:"apply",data:function(){return{action:{target:this.$bee+"/api/upload/uploadFile",fileName:"attach"},files:[],sorts:[],bit:{name:"",contact:"",phone:"",intro:"",icon:"",address:"",proName:"",province:"",city:"",area:"",provinceId:"",cityId:"",areaId:"",sort:"",sortId:"",username:sessionStorage.getItem("userid")}}},created:function(){this.sorting()},mounted:function(){this.addressPicker=this.$createCascadePicker({title:"地址选择",data:n,onSelect:this.selectHandle,onCancel:function(){console.log("取消")}})},methods:{applyMsg:function(){var t=this;this.$post(this.$bee+"/api/shop/leagueShopDetail",{username:this.bit.username}).then(function(e){200==e.code?(t.bit={name:e.data.shop.name,contact:e.data.shop.contact,phone:e.data.shop.phone,intro:e.data.shop.intro,icon:e.data.shop.icon,address:e.data.shop.address,proName:e.data.shop.proName,province:e.data.shop.province,city:e.data.shop.city,area:e.data.shop.area,provinceId:e.data.shop.provinceId,cityId:e.data.shop.cityId,areaId:e.data.shop.areaId,sort:"",sortId:e.data.shop.sortId,username:sessionStorage.getItem("userid")},t.sorts.forEach(function(s){s.value==e.data.shop.sortId&&(t.bit.sort=s.text)})):t.$createToast({txt:e.message,type:"txt"}).show()})},sorting:function(){var t=this;this.$post(this.$bee+"/api/shop/listSort").then(function(e){200==e.code?(e.data.sorts.forEach(function(e){t.sorts.push({text:e.name,value:e.id})}),t.applyMsg()):t.$createToast({txt:e.message,type:"txt"}).show()})},addedHandler:function(){var t=this.files[0];t&&this.$refs.upload.removeFile(t)},errHandler:function(t){this.$createToast({type:"warn",txt:t.response.message,time:1e3}).show()},sussHandler:function(t){t.response.data.pics[0]?this.bit.icon=t.response.data.pics[0]:this.$createToast({txt:t.response.message,type:"txt"}).show()},showcategory:function(){var t=this;this.$createPicker({title:"请选择区域",data:[t.sorts],onSelect:function(e,s,a){t.bit.sortId=e[0],t.bit.sort=a.join(", ")},onCancel:function(){console.log("取消")}}).show()},showAddressPicker:function(){this.addressPicker.show()},selectHandle:function(t,e,s){this.bit.province=s[0],this.bit.city=s[1],this.bit.area=s[2],this.bit.provinceId=t[0],this.bit.cityIdId=t[1],this.bit.areaId=t[2]},submitMsg:function(){var t=this,e=!0;Object.keys(this.bit).forEach(function(s){""===t.bit[s]&&(t.$createToast({txt:"请将信息填写完整！",time:1e3,type:"warn"}).show(),e=!1)}),e&&this.$post(this.$bee+"/api/shop/applyLeagueShop",this.bit,{showLoading:!0,parsed:!1}).then(function(e){200==e.code?t.$createToast({txt:e.message,time:2e3,type:"correct",onTimeout:function(){t.$router.go(-1)}}).show():t.$createToast({txt:e.message,type:"txt"}).show()})}}},r=c,d=(s("da93"),s("2877")),l=Object(d["a"])(r,a,i,!1,null,"79b86bd2",null);l.options.__file="apply.vue";e["default"]=l.exports}}]);
//# sourceMappingURL=chunk-64927ab3.5444bea8.js.map